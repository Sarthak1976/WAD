<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Student Dashboard</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

<nav class="navbar">
    <div class="logo"><i class="fas fa-graduation-cap"></i> MyCampus</div>
    <div class="user-profile" onclick="toggleMenu()">
        <span class="user-name">Rahul Patil (TE-9)</span>
        <div class="user-avatar">RP</div>
        <i class="fas fa-chevron-down" style="font-size: 12px;"></i>
        
        <div class="dropdown-menu" id="userMenu">
            <a href="#"><i class="fas fa-user"></i> Profile</a>
            <a href="login.html"><i class="fas fa-sign-out-alt"></i> Logout</a>
        </div>
    </div>
</nav>

<div class="dashboard-container">
    <h2><i class="fas fa-chart-pie"></i> Attendance Overview</h2>
    
    <div class="grid-charts">
        <div class="chart-card">
            <h3 style="text-align: center; color: #555;">Overall Status</h3>
            <div class="chart-box">
                <canvas id="donut"></canvas>
            </div>
        </div>
        <div class="chart-card">
            <h3 style="text-align: center; color: #555;">Subject Wise Analysis</h3>
            <div class="chart-box">
                <canvas id="bar"></canvas>
            </div>
        </div>
    </div>

    <div style="margin-top: 30px; text-align: center;">
        <a href="student_view.html" class="btn-primary-custom">
            <i class="fas fa-list"></i> View Detailed Record
        </a>
    </div>
</div>

<script>
    // Toggle User Menu
    function toggleMenu(){
        document.getElementById('userMenu').classList.toggle('show');
    }

    // Chart Configuration
    new Chart(document.getElementById('donut'), {
        type: 'doughnut',
        data: {
            labels: ['Attended', 'Missed'],
            datasets: [{
                data: [82, 18],
                backgroundColor: ['#1cc88a', '#e74a3b'],
                borderWidth: 0
            }]
        },
        options: { responsive: true, maintainAspectRatio: false }
    });

    new Chart(document.getElementById('bar'), {
        type: 'bar',
        data: {
            labels: ['DBMS', 'CN', 'SE', 'AI'],
            datasets: [{
                label: 'Attendance %',
                data: [85, 78, 80, 90],
                backgroundColor: '#4e73df',
                borderRadius: 5
            }]
        },
        options: { 
            responsive: true, 
            maintainAspectRatio: false,
            scales: { y: { beginAtZero: true, max: 100 } }
        }
    });
</script>

</body>
</html>